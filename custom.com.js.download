function enableMagnificForAjaxCartLink(){jQuery("a.ajax-cart-link").attr("href",intellipaat.cart_ajax_url).magnificPopup({disableOn:767,type:"ajax",mainClass:"mfp-fade",removalDelay:160,preloader:!0,fixedContentPos:!1,ajax:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="'+intellipaat.cartUrl+'">Cart content</a> could not be loaded.'}})}function getUrlVars(a){for(var c,b=[],d=a.slice(a.indexOf("?")+1).split("&"),e=0;e<d.length;e++)c=d[e].split("="),b.push(c[0]),b[c[0]]=c[1];return b}jQuery(document).ready(function(){function d(){jQuery.ajax({type:"post",dataType:"json",url:intellipaat.saleInitiateUrl,data:jQuery("form.checkout").serializeArray(),success:function(a){"success"==a.type?console.log("Mail sent to admin"):console.log("Oops! Error occured. Please try again.")}})}function f(){jQuery(".coupon").insertBefore("div.content"),e=1}function g(){jQuery(".coupon").appendTo("#sidebar"),e=0}if(jQuery(".iplogin").click(function(a){a.preventDefault(),jQuery("#vibe_bp_login").fadeToggle(300),jQuery("#vibe_bp_login").toggleClass("active"),a.stopPropagation()}),jQuery("a.ajax-cart-link").length>0&&1!=intellipaat.cart_page&&enableMagnificForAjaxCartLink(),jQuery(document).on("click",".ajax_add_to_cart_button",function(){var a=jQuery(this).attr("href");console.log("href "+a);var b=getUrlVars(a),c=b.pid,d=b.pidno;return console.log("type "+b.type),console.log("type "+b.pid),jQuery.ajax({url:ajaxurl,type:"post",data:{action:"intellipaat_course_woocommerce_direct_checkout_new",post_id:post_id,redirect:"",type:b.type,pid:c},success:function(a){console.log("Course Successfully Added to Cart"),parsedResponse=jQuery.parseJSON(a),console.log(parsedResponse),jQuery("#courses-in-cart").html(parsedResponse.courses_in_cart),jQuery("#mobile-courses-in-cart").length>0&&jQuery("#mobile-courses-in-cart").html(parsedResponse.courses_in_cart),jQuery(".woo-cart-menu").removeClass("empty"),jQuery(".woo-cart-menu").addClass("filled"),jQuery(".woo-cart-menu").html(parsedResponse.woo_cart_menu),enableMagnificForAjaxCartLink(),"selfPaced"==b.type&&jQuery(".add_to_cart_button.ajax_add_to_cart_button").attr("disabled",""),""!=b.pid?(console.log(" ajax_add_to_cart_button_pid PID"),jQuery(".ajax_add_to_cart_button_pid_"+d).attr("disabled","")):"onlineTraining"==b.type&&(console.log(" ajax_add_to_cart_button onlineTraining "+d),jQuery(".online_enroll_now_btn.ajax_add_to_cart_button").attr("disabled",""))},error:function(a,b,c){console.log(b,c),alert("Request failed: "+b)}}),!1}),jQuery("body").hasClass("single")||jQuery("body").hasClass("register")){if(!jQuery("body").hasClass("logged-in")&&jQuery("#login-form").length>0){jQuery(".login-text").hide(),jQuery("#login-div").hide(),jQuery(".mfp-footer a").on("click",function(a){jQuery(".alert").alert("close"),jQuery(".signup-text").toggle(),jQuery(".login-text").toggle(),jQuery("#signup-div").toggle(),jQuery("#login-div").toggle(),a.preventDefault()}),jQuery(".tutorial").length>0?(jQuery(".slideshare-link, .pdf-link, .quiz-link").each(function(){jQuery(this).attr("data-class",jQuery(this).attr("class")).attr("class","").addClass("popup-with-form").attr("data-href",jQuery(this).attr("href")).attr("href","#login-form")}),bind_popup_youtube(),bind_slideshare()):jQuery(".popup-youtube, .slideshare-link, .pdf-link, .quiz-link").each(function(){jQuery(this).attr("data-class",jQuery(this).attr("class")).attr("class","").addClass("popup-with-form").attr("data-href",jQuery(this).attr("href")).attr("href","#login-form")});var a;jQuery(".popup-with-form").on("click",function(){jQuery(".popup-with-form").removeClass("accessed"),a=jQuery(this).attr("data-class"),jQuery(this).addClass("accessed")}),bind_login_form();var b=jQuery("#login_form");b.submit(function(a){jQuery(".alert").alert("close");var c=jQuery("#submit").button("loading");jQuery.ajax({type:"post",dataType:"json",url:ajaxurl+"?action=intellipaat_visitor_secure_login&ajaxform=set&nonce=",data:b.serializeArray(),success:function(a){1==a.result?(c.button("complete"),jQuery("#loginerrors").append(a.message),window.location.reload()):(jQuery("#loginerrors").append(a.error),jQuery("p.login-loading").addClass("hide"),c.button("reset"))}}),a.preventDefault()})}else bind_popup_youtube(),bind_slideshare();if(jQuery("#signup_form").length>0){jQuery(".chosen-select").chosen({width:"100%"}),jQuery.get(intellipaat.SecKeyLink,function(a){jQuery("input.SecKey").val(a)});var c=jQuery("#signup_form");c.submit(function(a){jQuery(".alert").alert("close");var b=jQuery("#signup_submit").button("loading");jQuery.ajax({type:"post",dataType:"json",url:c.attr("action")+"&ajaxform=set",data:c.serializeArray(),success:function(a){if(1==a.result){b.button("complete"),jQuery("#signuperrors").append(a.message);var c=jQuery("input[name='lead_source']").val();if("course"==c){var d=window.location.href,d=d.replace("#course-preview","");window.location.href=d+"?onePoup=1#course-preview"}else window.location.reload()}else jQuery("#signuperrors").append(a.error),jQuery("p.login-loading").addClass("hide"),b.button("reset")}}),a.preventDefault()})}}if(jQuery("body.woocommerce-checkout .woocommerce form.login").length>0){var b=jQuery("form.login");jQuery("input.button").attr("data-loading-text","Logging in...").attr("data-complete-text","Logged in"),b.submit(function(a){jQuery(".alert").alert("close");var c=jQuery("input.button").button("loading");jQuery.ajax({type:"post",dataType:"json",url:ajaxurl+"?action=intellipaat_checkout_login&ajaxform=set&nonce=",data:b.serializeArray(),success:function(a){1==a.result?(c.button("complete"),jQuery("#loginerrors").append(a.message),window.location.reload()):(jQuery("#loginerrors").append(a.error),jQuery("p.login-loading").addClass("hide"),c.button("reset"))}}),a.preventDefault()})}if(jQuery("form.checkout").length>0){jQuery("body").hasClass("logged-in")||(jQuery(window).width()>640&&jQuery("#billing_email_field").insertBefore(".woocommerce-shipping-fields > h3"),jQuery(".create-account").insertAfter("#billing_email_field").toggleClass("create-account createaccount"),jQuery("#showlogin").on("click",function(a){jQuery("body,html").animate({scrollTop:jQuery("#showlogin").offset().top-120},1200),jQuery("#loginwrapper").slideToggle(),a.preventDefault()})),jQuery("#billing_email, #billing_phone").on("change",function(){var a=jQuery("#billing_email").val(),c=(jQuery("#billing_phone").val(),a.indexOf("@")),e=a.lastIndexOf(".");""!=a&&(c<1||e<c+2||e+2>=a.length?(alert("Please enter valid email address!"),console.log("Not a valid e-mail address"),jQuery("#billing_email").trigger("focus")):d())}),jQuery("body").hasClass("logged-in")&&d();var e=0;jQuery(window).width()<992&&f(),jQuery(window).resize(function(){jQuery(window).width()<992?0==e&&f():1==e&&g()})}var h=jQuery("body").find('img[src$="//bat.bing.com/action/0?ti=5321372&Ver=2"]');h.css("width","0"),h.css("height","0"),h.css("display","none"),jQuery(".accord-panel:first").css("display","block"),jQuery(".accord-panel:first").addClass("showpanel"),jQuery(".accord-heading:first").addClass("active"),jQuery("#course-content .accord-panel:first").css("display","block"),jQuery("#course-content .accord-panel:first").addClass("showpanel"),jQuery("#course-content .accord-heading:first").addClass("active");var j,i=document.getElementsByClassName("accord-heading");/*for(j=0;j<i.length;j++)i[j].onclick=function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("showpanel"),jQuery(this.nextElementSibling).hasClass("showpanel")?jQuery(this.nextElementSibling).slideDown():jQuery(this.nextElementSibling).slideUp()};*/var j,i=document.getElementsByClassName("key-accord-heading");for(j=0;j<i.length;j++)i[j].onclick=function(){jQuery(".key-accord-heading").not(this).removeClass("active"),jQuery(".key-accord-panel.showpanel").slideUp(),jQuery(".key-accord-panel").not(this.nextElementSibling).removeClass("showpanel"),this.classList.toggle("active"),this.nextElementSibling.classList.toggle("showpanel"),jQuery(this.nextElementSibling).hasClass("showpanel")&&jQuery(this.nextElementSibling).slideDown()};jQuery(".ibm-cert a").click(function(a){a.preventDefault(),jQuery(".ibm-cert .tool-tip.left").addClass("visible")}),jQuery(".ibm-cert .tool-tip span").click(function(){jQuery(".ibm-cert .tool-tip.left").removeClass("visible")})}),vibe_course_module_strings.unable_add_students="Student/Email address/Username is already exist",function(a){a.fn.visible=function(b){var c=a(this),d=a(window),e=d.scrollTop(),f=e+d.height(),g=c.offset().top,h=g+c.height(),i=b===!0?h:g,j=b===!0?g:h;return j<=f&&i>=e}}(jQuery);